import telebot
from telebot import types
import sqlite3

# --- بياناتك الأساسية ---
API_TOKEN = 'ضع_هنا_توكن_بوتك'
ADMIN_ID = 8283483184
CHANNEL_ID = "@5jsbDp-CpFhhYTJk" # معرف قناتك (تأكد من إضافة البوت أدمن فيها)
OFFER_LINK_BASE = "https://timewall.io/users/login?oid=ef03cc0d0841b08f&uid="

bot = telebot.TeleBot(API_TOKEN)

# --- إنشاء قاعدة البيانات ---
def init_db():
    conn = sqlite3.connect('bot_data.db')
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY, balance INTEGER DEFAULT 0)''')
    c.execute('''CREATE TABLE IF NOT EXISTS tasks (id INTEGER PRIMARY KEY AUTOINCREMENT, link TEXT, reward INTEGER)''')
    conn.commit()
    conn.close()

init_db()

# --- فحص الاشتراك الإجباري ---
def check_sub(user_id):
    try:
        member = bot.get_chat_member(CHANNEL_ID, user_id)
        return member.status != 'left'
    except:
        return False

# --- الأوامر الأساسية ---
@bot.message_group(['

